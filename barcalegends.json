const { Telegraf, Markup } = require('telegraf');
const bot = new Telegraf(process.env.BOT_TOKEN);

// آرایه‌ی اسطوره‌ها (می‌تونی گسترشش بدی)
const legends = [
  {
    name: "ژاوی",
    text: "👑 ژاوی هرناندز کروز\n\n📅 تولد: 1980\n🧒 لاماسیا: 1997 تا 1999\n👕 تیم اصلی: 1998 تا 2015\n🎮 تعداد بازی: 767\n🥅 گل: 85\n🎯 پاس گل: 184\n🏆 جام‌های کسب‌شده: 25 جام رسمی\n\n🧠 دوران مربیگری:\n✅ 91 برد | ❌ 29 باخت | ➖ 23 مساوی\n🏆 افتخارات مربیگری: 1 لالیگا، 1 سوپر کاپ، 2 جام خوان گمپر\n\n💙 او یکی از نمادهای باشگاه بارسلونا در تمام دوران است."
  }
];

// دکمه اصلی اسطوره‌ها
bot.hears("📜 اسطوره‌های بارسلونا", async (ctx) => {
  const buttons = legends.map(legend =>
    [Markup.button.callback(legend.name, `legend_${legend.name}`)]
  );
  await ctx.reply("یکی از اسطوره‌های بارسا رو انتخاب کن:", Markup.inlineKeyboard(buttons));
});

// هندل کردن کلیک روی دکمه‌ها
legends.forEach(legend => {
  bot.action(`legend_${legend.name}`, async (ctx) => {
    await ctx.answerCbQuery(); // حذف لودینگ روی دکمه
    await ctx.reply(legend.text);
  });
});

bot.launch();